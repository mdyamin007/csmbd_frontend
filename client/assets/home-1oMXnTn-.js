import{c as h,d as u,w as p}from"./utils-U4k8zN-U.js";import{j as e,L as a}from"./chunk-GNGMS2XR-BTyGsKOQ.js";import{B as i}from"./QueryClientProvider-Qv7QOnvw.js";import{C as o,a as l,d as c,b as d,c as m,E as j,e as f}from"./api.actions-R6WKCUBF.js";import{A as g,a as N}from"./avatar-CoL_h32a.js";import{u as w,Q as C}from"./query-keys-DFoA7pJ2.js";import{a as b}from"./hook-D_gVsVG3.js";import{b as v}from"./userSlice-DzMmQd_y.js";import"./routes-B6W59PFx.js";import"./query-pBzLrsWh.js";function t({className:s,...n}){return e.jsx("div",{"data-slot":"skeleton",className:h("bg-accent animate-pulse rounded-md",s),...n})}function y(){const{data:s,isLoading:n}=w({url:j.users(),options:{queryKey:[C.getUsers]}});return n?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((r,x)=>e.jsxs(o,{className:"overflow-hidden",children:[e.jsxs(l,{className:"flex flex-row items-center gap-4 pb-2",children:[e.jsx(t,{className:"h-12 w-12 rounded-full"}),e.jsxs("div",{className:"grid gap-1",children:[e.jsx(t,{className:"h-4 w-[150px]"}),e.jsx(t,{className:"h-3 w-[100px]"})]})]}),e.jsxs(c,{children:[e.jsx(t,{className:"h-4 w-full mb-2"}),e.jsx(t,{className:"h-4 w-2/3"})]})]},x))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s&&(s==null?void 0:s.length)>0?s.map(r=>e.jsx(a,{to:`/profile/${r.id}`,children:e.jsxs(o,{className:"overflow-hidden hover:border-primary transition-colors cursor-pointer h-full",children:[e.jsxs(l,{className:"flex flex-row items-center gap-4 pb-2",children:[e.jsx(g,{children:e.jsx(N,{children:r.username.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx(d,{className:"text-lg",children:r.username}),e.jsxs(m,{children:["Joined ",u(r.createdAt).format("MMM DD, YYYY")]})]})]}),e.jsx(c,{children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Click to view ",r.username,"'s profile and content"]})})]})},r.id)):e.jsx("div",{className:"col-span-2 text-center py-10",children:e.jsx("p",{className:"text-muted-foreground",children:"No users found"})})})}const M=()=>{const{isAuthenticated:s}=b(v);return e.jsxs("div",{className:"container mx-auto py-10",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 text-center mb-10",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Content Management Platform"}),e.jsx("p",{className:"text-muted-foreground max-w-[700px]",children:"A platform where users can create and manage their own publicly viewable content."}),s?e.jsx(i,{asChild:!0,children:e.jsx(a,{to:"/dashboard",children:"Dashboard"})}):e.jsxs("div",{className:"flex gap-4",children:[e.jsx(i,{asChild:!0,children:e.jsx(a,{to:"/login",children:"Login"})}),e.jsx(i,{asChild:!0,variant:"outline",children:e.jsx(a,{to:"/register",children:"Register"})})]})]}),e.jsxs(o,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs(l,{children:[e.jsx(d,{children:"Browse Users"}),e.jsx(m,{children:"Click on a user to view their profile and content"})]}),e.jsx(c,{children:e.jsx(y,{})}),e.jsx(f,{className:"border-t px-6 py-4",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to share your own content?"," ",s?e.jsx(a,{to:"/dashboard",className:"font-medium underline underline-offset-4",children:"Go to Dashboard"}):e.jsx(a,{to:"/register",className:"font-medium underline underline-offset-4",children:"Create an account"})]})})]})]})};function F({}){return[{title:"Home | CSMBD Content Management"},{name:"description",content:"Welcome to CSMBD Content Management System"}]}const G=p(function(){return e.jsx("main",{className:"min-h-screen bg-background",children:e.jsx(M,{})})});export{G as default,F as meta};
